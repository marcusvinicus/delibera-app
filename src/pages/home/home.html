<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Pautas</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
	<ion-list>
		<ion-card *ngFor="let pauta of pautas">
      <ion-card-title style="padding-left: 10px;">
        {{pauta.title.rendered}}
      </ion-card-title>
			<ion-item>
		    <ion-avatar item-start>
		      <img src="{{pauta.avatar}}">
		    </ion-avatar>
	      <p>
		      <ion-note>{{pauta.user_name}}</ion-note>
		    </p>
		    <p>
		      <ion-note>Possui uma pauta em {{status(pauta.situacao)}}</ion-note>
		    </p>
			</ion-item>
		  <ion-card-content>
		    <p align="justify" [innerHTML]="pauta.content.rendered"></p>
		  </ion-card-content>
	    <p align="right" style="padding-right: 20px;">
	      <ion-note>{{formatDateOld(pauta.date)}}</ion-note>
	    </p>

		  <ion-row text-center>
				<ion-col col-offset-1 col-3 *ngIf="show(pauta.situacao)">
		      <button ion-button icon-left clear large id="notification-button">
		        <a (click)="like(pauta)" >
			        <ion-icon name="thumbs-up" *ngIf="pauta.liked" color="danger">
			        	<ion-badge id="notifications-badge" color="danger">{{pauta.likes}}</ion-badge>
			        </ion-icon>
			        <ion-icon name="thumbs-up" *ngIf="!pauta.liked">
			        	<ion-badge id="notifications-badge" color="danger">{{pauta.likes}}</ion-badge>
			        </ion-icon>
		        </a>
		      </button>
		    </ion-col>
		    <ion-col col-3 *ngIf="show(pauta.situacao)">
		      <button ion-button icon-left clear large id="notification-button">
		        <a (click)="unlike(pauta)">
			        <ion-icon name="thumbs-down" *ngIf="pauta.unliked" color="danger">
			        	<ion-badge id="notifications-badge" color="danger">{{pauta.unlikes}}</ion-badge>
			        </ion-icon>
			        <ion-icon name="thumbs-down" *ngIf="!pauta.unliked">
			        	<ion-badge id="notifications-badge" color="danger">{{pauta.unlikes}}</ion-badge>
			        </ion-icon>
		        </a>
		      </button>
		    </ion-col>
		    <ion-col col-2>
					<ion-list>
					  <button ion-button icon-left clear large id="notification-button">
					    <a (click)="goToAddComment(pauta.id, pauta.title.rendered)">
					      <ion-icon name="text"></ion-icon>
					    </a>
					  </button>
					</ion-list>
		    </ion-col>
		    <ion-col col-2 *ngIf="isLoggedIn()" >
		      <button ion-button icon-left clear large id="notification-button">
		        <a (click)="goToComments(pauta.id, pauta.title.rendered)">
		          <ion-icon name="md-chatbubbles">
		          	<ion-badge id="notifications-badge" color="danger">{{pauta.interactions}}</ion-badge>
		          </ion-icon>
		        </a>
		      </button>
		    </ion-col>

		  </ion-row>
		</ion-card>
	</ion-list>

</ion-content>
